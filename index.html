<!--
Repo structure (create these files 1:1 in your repo)
/
│  index.html
├─/css
│   style.css
└─/js
    main.js
    drf.js
    extract.js
    ui.js
-->

<!-- ============ index.html ============ -->
<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>법조문 자동 추출·검색 · 고급버전 (모듈)</title>
  <link rel="stylesheet" href="./css/style.css">
</head>
<body>
<div class="wrap">
  <h1>법조문 자동 추출·검색 · <span class="k">고급버전</span> <span class="small">(OC=bro3362 · JSON 우선 · 프록시 폴백)</span></h1>
  <div class="hint">HTML 직호출이 막히는 환경을 피하기 위해 <b>type=JSON</b>으로 조문을 받아 로컬에서 렌더링합니다. 실패 시 전체 HTML 또는 퍼블릭 페이지 스니펫으로 폴백합니다.</div>

  <div class="grid">
    <div>
      <div class="card">
        <label for="input"><b>본문 입력</b></label>
        <textarea id="input" placeholder="예) 건축법 제22조, 같은법 제23조, 동법시행령 제9조의2 제3항 …"></textarea>
      </div>
    </div>
    <div>
      <div class="card">
        <div class="row"><span class="badge">OC: bro3362 (고정)</span></div>
        <div class="row"><label>프록시</label><input id="proxy" type="text" value="https://law-proxy.hyok96.workers.dev/?url=" /></div>
        <div class="row"><button id="run">추출·검색</button><button class="secondary" id="clear">지우기</button><button class="secondary" id="runTests">테스트 실행</button><button class="secondary" id="runTests2">테스트(추가)</button></div>
        <div class="small">• CORS로 본문을 못 읽을 때 프록시가 자동 사용됩니다.</div>
      </div>
    </div>
  </div>

  <div class="card" id="foundBox">
    <h2>추출된 인용</h2>
    <ol id="foundList"></ol>
  </div>

  <div class="card result" id="resBox">
    <h2>검색 결과 (위에서부터 순서대로 표시)</h2>
    <ol id="resList"></ol>
  </div>

  <div class="card tests">
    <h2>내장 테스트</h2>
    <div id="testOutput" class="small">[테스트 대기 중]</div>
  </div>
</div>

<!-- 로컬 전체보기 모달 -->
<div id="viewer" class="viewer" aria-hidden="true">
  <div class="box">
    <div class="hdr">
      <div id="viewerTitle">로컬 전체(스크롤)</div>
      <button class="close" id="viewerClose">닫기</button>
    </div>
    <div id="viewerBody" class="body"></div>
  </div>
</div>

<script type="module" src="./js/main.js"></script>
</body>
</html>
